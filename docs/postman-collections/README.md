# Postman Collections для SRO API

Этот каталог содержит Postman коллекции для тестирования API системы СРО, разбитые по ролям пользователей.

## Структура коллекций

### 1. Public API (01-Public-API.postman_collection.json)
**Описание**: Публичные эндпоинты, доступные без авторизации
**Включает**:
- Аутентификация (логин, регистрация, восстановление пароля)
- Публичные новости и категории
- Публичные события
- Публичные документы и файлы
- Реестр арбитражных управляющих
- Информация о компенсационном фонде
- Настройки сайта

### 2. Editor API (02-Editor-API.postman_collection.json)
**Описание**: API для роли EDITOR - базовые права на создание и редактирование контента
**Права доступа**:
- Создание и редактирование новостей
- Создание и редактирование документов
- Создание и редактирование событий
- Загрузка и управление файлами
- Просмотр реестра

### 3. Moderator API (03-Moderator-API.postman_collection.json)
**Описание**: API для роли MODERATOR - расширенные права на управление контентом и реестром
**Права доступа**:
- Все права EDITOR
- Удаление новостей и документов
- Удаление событий
- Создание и управление категориями новостей
- Создание и редактирование записей реестра
- Управление компенсационным фондом

### 4. Admin API (04-Admin-API.postman_collection.json)
**Описание**: API для роли ADMIN - полные права на управление системой
**Права доступа**:
- Все права MODERATOR
- Управление пользователями
- Удаление категорий новостей
- Удаление записей реестра
- Импорт данных в реестр
- Управление настройками системы
- Управление страницами
- Управление дисциплинарными мерами
- Управление проверками

### 5. Super Admin API (05-SuperAdmin-API.postman_collection.json)
**Описание**: API для роли SUPER_ADMIN - полный доступ ко всем эндпоинтам системы
**Права доступа**:
- Все права ADMIN
- Полный доступ ко всем функциям системы
- Создание пользователей с любой ролью

## Настройка переменных

Каждая коллекция использует следующие переменные:

- `baseUrl` - базовый URL API (по умолчанию: http://localhost:3000)
- `accessToken` - JWT токен для авторизации (требуется для всех ролей кроме Public)

## Импорт в Postman

1. Откройте Postman
2. Нажмите "Import" в левом верхнем углу
3. Выберите нужный JSON файл коллекции
4. Настройте переменные окружения:
   - Создайте новое окружение
   - Добавьте переменные `baseUrl` и `accessToken`
   - Установите соответствующие значения

## Получение токена авторизации

1. Используйте эндпоинт `POST /auth/login` из Public API коллекции
2. Скопируйте значение `accessToken` из ответа
3. Установите это значение в переменную `accessToken` в вашем окружении Postman

## Роли и разрешения

### UserRole
- `SUPER_ADMIN` - Супер администратор
- `ADMIN` - Администратор  
- `MODERATOR` - Модератор
- `EDITOR` - Редактор

### Основные разрешения
- `USERS_*` - Управление пользователями
- `NEWS_*` - Управление новостями
- `DOCUMENTS_*` - Управление документами
- `REGISTRY_*` - Управление реестром
- `EVENTS_*` - Управление событиями
- `SETTINGS_*` - Управление настройками
- `FILE_*` - Управление файлами

## Примечания

- Все эндпоинты, требующие авторизации, должны включать заголовок `Authorization: Bearer {accessToken}`
- Для загрузки файлов используйте `multipart/form-data`
- Некоторые эндпоинты могут требовать дополнительные разрешения
- Проверьте документацию API для получения подробной информации о параметрах запросов и ответов

# –û—Ç—á–µ—Ç: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 403 –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ

## –î–∞—Ç–∞: 08.10.2025

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ 403 (Forbidden):
```
Request failed with status code 403
at <unknown> (src/hooks/admin/useArbitrators.ts:81:17)
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ API –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```bash
# –õ–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -X POST "http://localhost:3001/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"aaadmin@sro-au.ru","password":"Admin123!"}'

# –û—Ç–≤–µ—Ç:
{
  "success": true,
  "data": {
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
    "refreshToken": "...",
    "user": { ... }
  }
}
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
```bash
# –° —Ç–æ–∫–µ–Ω–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç
curl -H "Authorization: Bearer TOKEN" "http://localhost:3001/api/registry/ID"

# –ë–µ–∑ —Ç–æ–∫–µ–Ω–∞ - 401 Unauthorized
curl "http://localhost:3001/api/registry/ID"
```

### 3. –ü—Ä–æ–±–ª–µ–º–∞ –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- API —Å–µ—Ä–≤–∏—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Ç–æ–∫–µ–Ω–∞
- AuthContext –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–æ–∫–µ–Ω –≤ localStorage
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ç–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö

## üîß –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞ –≤ AuthContext
```tsx
// –í —Ñ—É–Ω–∫—Ü–∏–∏ login –¥–æ–±–∞–≤–ª–µ–Ω—ã console.log
console.log('üîê Attempting API login with:', credentials.email);
const response = await apiService.login(credentials)
console.log('üîê API login response:', response);

// –í catch –±–ª–æ–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞
console.error('üîê API login error:', error);
```

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã email –≤ fallback –ª–æ–≥–∏–∫–µ
```tsx
// –ë—ã–ª–æ: 'admin@sro-au.ru'
// –°—Ç–∞–ª–æ: 'aaadmin@sro-au.ru'
if (credentials.email === 'aaadmin@sro-au.ru' && credentials.password === 'Admin123!') {
```

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –æ—à–∏–±–∫–∏ 403

### 1. –¢–æ–∫–µ–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ API —Å–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω –∏–∑ localStorage
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Authorization

### 2. –¢–æ–∫–µ–Ω –∏—Å—Ç–µ–∫
- JWT —Ç–æ–∫–µ–Ω—ã –∏–º–µ—é—Ç –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ (–æ–±—ã—á–Ω–æ 1 —á–∞—Å)
- –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ refresh token

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Ç–æ–∫–µ–Ω–∞
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ `Bearer TOKEN`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ —Å–∏–º–≤–æ–ª–æ–≤

## üöÄ –†–µ—à–µ–Ω–∏–µ

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
   - `üîê Attempting API login with: aaadmin@sro-au.ru`
   - `üîê API login response: {success: true, data: {...}}`

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞:
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Application/Storage
3. –ù–∞–π–¥–∏—Ç–µ localStorage
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ `admin_token`

### –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API –∑–∞–ø—Ä–æ—Å–æ–≤:
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Network
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—è—é—â–µ–≥–æ
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization –≤ –∑–∞–ø—Ä–æ—Å–µ

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ API –ª–æ–≥–∏–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å localStorage** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Network** - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–æ–∫–µ–Ω –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
4. **–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è** - –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `debug-auth.html` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API –ª–æ–≥–∏–Ω–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!** üéâ
